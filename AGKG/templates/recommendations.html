{% extends 'base.html' %}

{% block title %}推荐内容 - 农业知识图谱{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/recommendations.css') }}">
{% endblock %}

{% block content %}

<!-- 筛选和刷新按钮 -->
<div class="row mb-2">
    <div class="col-12">
        <div class="filter-bar">
            <div class="filter-chips">
                <button class="filter-chip active" data-source="all">
                    <i class="fas fa-th-large"></i>全部
                </button>
                <button class="filter-chip" data-source="kg">
                    <i class="fas fa-project-diagram"></i>知识图谱
                </button>
                <button class="filter-chip" data-source="popular">
                    <i class="fas fa-fire"></i>热门内容
                </button>
            </div>
            <button id="refreshBtn" class="refresh-btn">
                <i class="fas fa-sync-alt"></i>
            </button>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-12">
        <!-- 加载中提示 -->
        <div id="loadingIndicator" class="text-center py-3">
            <div class="spinner-border text-primary" role="status">
                <span class="visually-hidden">加载中...</span>
            </div>
            <p class="mt-2 text-muted">正在获取推荐内容...</p>
        </div>

        <!-- 推荐内容卡片 -->
        <div id="recommendationsContainer" class="row g-2"></div>

        <!-- 无推荐内容提示 -->
        <div id="noRecommendations" class="text-center py-3" style="display: none;">
            <div class="bg-light rounded p-3">
                <i class="fas fa-search fa-2x text-muted mb-2"></i>
                <p class="mb-2">暂无推荐内容</p>
                <a href="/crop_qa" class="btn btn-primary btn-sm">
                    <i class="fas fa-search me-1"></i>开始搜索
                </a>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/recommendations.js') }}"></script>
{% endblock %} 